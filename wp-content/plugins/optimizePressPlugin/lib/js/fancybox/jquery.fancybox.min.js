/*!
 * fancyBox - jQuery Plugin
 * version: 2.0.4 (12/12/2011)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2011 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(a,b,c){var d=c(a),e=c(b),f=c.fancybox=function(){f.open.apply(this,arguments)},g=!1,h=null;c.extend(f,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!c.browser.msie||c.browser.version>6||!b.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(c.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){c.isArray(a)||(a=[a]),a.length&&(f.close(!0),f.opts=c.extend(!0,{},f.defaults,b),f.group=a,f._start(f.opts.index||0))},cancel:function(){f.coming&&!1===f.trigger("onCancel")||(f.coming=null,f.hideLoading(),f.ajaxLoad&&f.ajaxLoad.abort(),f.ajaxLoad=null,f.imgPreload&&(f.imgPreload.onload=f.imgPreload.onabort=f.imgPreload.onerror=null))},close:function(a){f.cancel(),f.current&&!1!==f.trigger("beforeClose")&&(f.unbindEvents(),!f.isOpen||a&&a[0]===!0?(c(".fancybox-wrap").stop().trigger("onReset").remove(),f._afterZoomOut()):(f.isOpen=f.isOpened=!1,c(".fancybox-item").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(f.player.timer)},d=function(){b(),f.current&&f.player.isActive&&(f.player.timer=setTimeout(f.next,f.current.playSpeed))},e=function(){b(),c("body").unbind(".player"),f.player.isActive=!1,f.trigger("onPlayEnd")},g=function(){f.current&&(f.current.loop||f.current.index<f.group.length-1)&&(f.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),f.trigger("onPlayStart"))};f.player.isActive||a&&a[0]===!1?e():g()},next:function(){f.current&&f.jumpto(f.current.index+1)},prev:function(){f.current&&f.jumpto(f.current.index-1)},jumpto:function(a){f.current&&(a=parseInt(a,10),f.group.length>1&&f.current.loop&&(a>=f.group.length?a=0:0>a&&(a=f.group.length-1)),"undefined"!=typeof f.group[a]&&(f.cancel(),f._start(a)))},reposition:function(a){f.isOpen&&f.wrap.css(f._getPosition(a))},update:function(){f.isOpen&&(g||(h=setInterval(function(){g&&(g=!1,clearTimeout(h),f.current&&(f.current.autoSize&&(f.inner.height("auto"),f.current.height=f.inner.height()),f._setDimension(),f.current.canGrow&&f.inner.height("auto"),f.reposition(),f.trigger("onUpdate")))},100)),g=!0)},toggle:function(){f.isOpen&&(f.current.fitToView=!f.current.fitToView,f.update())},hideLoading:function(){c("#fancybox-loading").remove()},showLoading:function(){f.hideLoading(),c('<div id="fancybox-loading"></div>').click(f.cancel).appendTo("body")},getViewport:function(){return{x:d.scrollLeft(),y:d.scrollTop(),w:d.width(),h:d.height()}},unbindEvents:function(){f.wrap&&f.wrap.unbind(".fb"),e.unbind(".fb"),d.unbind(".fb")},bindEvents:function(){var a=f.current,b=a.keys;a&&(d.bind("resize.fb, orientationchange.fb",f.update),b&&e.bind("keydown.fb",function(a){var d;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||!(c.inArray(a.target.tagName.toLowerCase(),["input","textarea","select","button"])<0)||(d=a.keyCode,c.inArray(d,b.close)>-1?(f.close(),a.preventDefault()):c.inArray(d,b.next)>-1?(f.next(),a.preventDefault()):c.inArray(d,b.prev)>-1&&(f.prev(),a.preventDefault()))}),c.fn.mousewheel&&a.mouseWheel&&f.group.length>1&&f.wrap.bind("mousewheel.fb",function(a,b){var d=c(a.target).get(0);(0===d.clientHeight||d.scrollHeight===d.clientHeight)&&(a.preventDefault(),f[b>0?"prev":"next"]())}))},trigger:function(a){var b,d=f[c.inArray(a,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(d){if(c.isFunction(d[a])&&(b=d[a].apply(d,Array.prototype.slice.call(arguments,1))),b===!1)return!1;d.helpers&&c.each(d.helpers,function(b,e){e&&"undefined"!=typeof f.helpers[b]&&c.isFunction(f.helpers[b][a])&&f.helpers[b][a](e,d)}),c.event.trigger(a+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(a){var b,d,e,g,h={},i=f.group[a]||null;return"object"==typeof i&&(i.nodeType||i instanceof c)&&(b=!0,c.metadata&&(h=c(i).metadata())),h=c.extend(!0,{},f.opts,{index:a,element:i},c.isPlainObject(i)?i:h),c.each(["href","title","content","type"],function(a,d){h[d]=f.opts[d]||b&&c(i).attr(d)||h[d]||null}),"number"==typeof h.margin&&(h.margin=[h.margin,h.margin,h.margin,h.margin]),h.modal&&c.extend(!0,h,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),f.coming=h,!1===f.trigger("beforeLoad")?(f.coming=null,void 0):(e=h.type,d=h.href,e||(b&&(g=c(i).data("fancybox-type"),!g&&i.className&&(g=i.className.match(/fancybox\.(\w+)/),e=g?g[1]:null)),!e&&d&&(f.isImage(d)?e="image":f.isSWF(d)?e="swf":d.match(/^#/)&&(e="inline")),e||(e=b?"inline":"html"),h.type=e),"inline"===e||"html"===e?(h.content=h.content||("inline"===e&&d?c(d):i),h.content.length||(e=null)):(h.href=d||i,h.href||(e=null)),h.group=f.group,"image"===e?f._loadImage():"ajax"===e?f._loadAjax():e?f._afterLoad():f._error("type"),void 0)},_error:function(a){c.extend(f.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:a,content:f.coming.tpl.error}),f._afterLoad()},_loadImage:function(){f.imgPreload=new Image,f.imgPreload.onload=function(){this.onload=this.onerror=null,f.coming.width=this.width,f.coming.height=this.height,f._afterLoad()},f.imgPreload.onerror=function(){this.onload=this.onerror=null,f._error("image")},f.imgPreload.src=f.coming.href,f.imgPreload.complete||f.showLoading()},_loadAjax:function(){f.showLoading(),f.ajaxLoad=c.ajax(c.extend({},f.coming.ajax,{url:f.coming.href,error:function(a,b){"abort"!==b?f._error("ajax",a):f.hideLoading()},success:function(a,b){"success"===b&&(f.coming.content=a,f._afterLoad())}}))},_preload:function(){var a=f.group,b=f.current.index,d=function(a){a&&f.isImage(a)&&((new Image).src=a)};a.length>1&&(d(c(a[b+1]||a[0]).attr("href")),d(c(a[b-1]||a[a.length-1]).attr("href")))},_afterLoad:function(){return f.hideLoading(),f.coming&&!1!==f.trigger("afterLoad",f.current)?(f.isOpened?(c(".fancybox-item").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.prevMethod]()):(c(".fancybox-wrap").stop().trigger("onReset").remove(),f.trigger("afterClose")),f.unbindEvents(),f.isOpen=!1,f.current=f.coming,f.coming=!1,f.wrap=c(f.current.tpl.wrap).addClass("fancybox-tmp "+f.current.wrapCSS).appendTo("body"),f.outer=c(".fancybox-outer",f.wrap).css("padding",f.current.padding+"px"),f.inner=c(".fancybox-inner",f.wrap),f._setContent(),f.trigger("beforeShow"),f._setDimension(),f.wrap.hide().removeClass("fancybox-tmp"),f.bindEvents(),f._preload(),f.transitions[f.isOpened?f.current.nextMethod:f.current.openMethod](),void 0):(f.coming=!1,void 0)},_setContent:function(){var a,b,d=f.current,e=d.type;switch(e){case"inline":case"ajax":case"html":a=d.content,"inline"===e&&a instanceof c&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),c(f.wrap).bind("onReset",function(){a.appendTo("body").hide()})),d.autoSize&&(b=c('<div class="fancybox-tmp"></div>').appendTo(c("body")).append(a),d.width=b.outerWidth(),d.height=b.outerHeight(!0),a=b.contents().detach(),b.remove());break;case"image":a=d.tpl.image.replace("{href}",d.href),d.aspectRatio=!0;break;case"swf":a=d.tpl.swf.replace(/\{width\}/g,d.width).replace(/\{height\}/g,d.height).replace(/\{href\}/g,d.href);break;case"iframe":a=d.tpl.iframe.replace("{href}",d.href).replace("{scrolling}",d.scrolling).replace("{rnd}",(new Date).getTime())}c.inArray(e,["image","swf","iframe"])>-1&&(d.autoSize=!1,d.scrolling=!1),f.inner.append(a)},_setDimension:function(){var a,b,d=f.wrap,e=f.outer,g=f.inner,h=f.current,i=f.getViewport(),j=h.margin,k=2*h.padding,l=h.width+k,m=h.height+k,n=h.width/h.height,o=h.maxWidth,p=h.maxHeight,q=h.minWidth,r=h.minHeight;if(i.w-=j[1]+j[3],i.h-=j[0]+j[2],l.toString().indexOf("%")>-1&&(l=i.w*parseFloat(l)/100),m.toString().indexOf("%")>-1&&(m=i.h*parseFloat(m)/100),h.fitToView&&(o=Math.min(i.w,o),p=Math.min(i.h,p)),q=Math.min(l,q),r=Math.min(l,r),o=Math.max(q,o),p=Math.max(r,p),h.aspectRatio?(l>o&&(l=o,m=(l-k)/n+k),m>p&&(m=p,l=(m-k)*n+k),q>l&&(l=q,m=(l-k)/n+k),r>m&&(m=r,l=(m-k)*n+k)):(l=Math.max(q,Math.min(l,o)),m=Math.max(r,Math.min(m,p))),l=Math.round(l),m=Math.round(m),c(d.add(e).add(g)).width("auto").height("auto"),g.width(l-k).height(m-k),d.width(l),a=d.height(),l>o||a>p)for(;(l>o||a>p)&&l>q&&a>r;)m-=10,h.aspectRatio?(l=Math.round((m-k)*n+k),q>l&&(l=q,m=(l-k)/n+k)):l-=10,g.width(l-k).height(m-k),d.width(l),a=d.height();h.dim={width:l,height:a},h.canGrow=h.autoSize&&m>r&&p>m,h.canShrink=!1,h.canExpand=!1,l-k<h.width||m-k<h.height?h.canExpand=!0:(l>i.w||a>i.h)&&l>q&&m>r&&(h.canShrink=!0),b=a-k,f.innerSpace=b-g.height(),f.outerSpace=b-e.height()},_getPosition:function(a){var b=f.current,c=f.getViewport(),d=b.margin,e=f.wrap.width()+d[1]+d[3],g=f.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};return b.fixed&&(!a||a[0]===!1)&&g<=c.h&&e<=c.w&&(h={position:"fixed",top:d[0],left:d[3]}),h.top=Math.ceil(Math.max(h.top,h.top+(c.h-g)*b.topRatio))+"px",h.left=Math.ceil(Math.max(h.left,h.left+.5*(c.w-e)))+"px",h},_afterZoomIn:function(){var a=f.current;f.isOpen=f.isOpened=!0,f.wrap.addClass("fancybox-opened").css("overflow","visible"),f.update(),f.inner.css("overflow","auto"===a.scrolling?"auto":"yes"===a.scrolling?"scroll":"hidden"),(a.closeClick||a.nextClick)&&f.inner.css("cursor","pointer").bind("click.fb",a.nextClick?f.next:f.close),a.closeBtn&&c(a.tpl.closeBtn).appendTo(f.wrap).bind("click.fb",f.close),a.arrows&&f.group.length>1&&((a.loop||a.index>0)&&c(a.tpl.prev).appendTo(f.wrap).bind("click.fb",f.prev),(a.loop||a.index<f.group.length-1)&&c(a.tpl.next).appendTo(f.wrap).bind("click.fb",f.next)),f.trigger("afterShow"),f.opts.autoPlay&&!f.player.isActive&&(f.opts.autoPlay=!1,f.play())},_afterZoomOut:function(){f.trigger("afterClose"),f.wrap.trigger("onReset").remove(),c.extend(f,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}}),f.transitions={getOrigPosition:function(){var a,b,d=f.current.element,e={},g=50,h=50;return d&&d.nodeName&&c(d).is(":visible")?(a=c(d).find("img:first"),a.length?(e=a.offset(),g=a.outerWidth(),h=a.outerHeight()):e=c(d).offset()):(b=f.getViewport(),e.top=b.y+.5*(b.h-h),e.left=b.x+.5*(b.w-g)),e={top:Math.ceil(e.top)+"px",left:Math.ceil(e.left)+"px",width:Math.ceil(g)+"px",height:Math.ceil(h)+"px"}},step:function(a,b){var c,d,e;("width"===b.prop||"height"===b.prop)&&(d=e=Math.ceil(a-2*f.current.padding),"height"===b.prop&&(c=(a-b.start)/(b.end-b.start),b.start>b.end&&(c=1-c),d-=f.innerSpace*c,e-=f.outerSpace*c),f.inner[b.prop](d),f.outer[b.prop](e))},zoomIn:function(){var a,b,d=f.wrap,e=f.current,g=e.dim;"elastic"===e.openEffect?(b=c.extend({},g,f._getPosition(!0)),delete b.position,a=this.getOrigPosition(),e.openOpacity&&(a.opacity=0,b.opacity=1),d.css(a).show().animate(b,{duration:e.openSpeed,easing:e.openEasing,step:this.step,complete:f._afterZoomIn})):(d.css(c.extend({},g,f._getPosition())),"fade"===e.openEffect?d.fadeIn(e.openSpeed,f._afterZoomIn):(d.show(),f._afterZoomIn()))},zoomOut:function(){var a,b=f.wrap,c=f.current;"elastic"===c.closeEffect?("fixed"===b.css("position")&&b.css(f._getPosition(!0)),a=this.getOrigPosition(),c.closeOpacity&&(a.opacity=0),b.animate(a,{duration:c.closeSpeed,easing:c.closeEasing,step:this.step,complete:f._afterZoomOut})):b.fadeOut("fade"===c.closeEffect?c.closeSpeed:0,f._afterZoomOut)},changeIn:function(){var a,b=f.wrap,c=f.current;"elastic"===c.nextEffect?(a=f._getPosition(!0),a.opacity=0,a.top=parseInt(a.top,10)-200+"px",b.css(a).show().animate({opacity:1,top:"+=200px"},{duration:c.nextSpeed,complete:f._afterZoomIn})):(b.css(f._getPosition()),"fade"===c.nextEffect?b.hide().fadeIn(c.nextSpeed,f._afterZoomIn):(b.show(),f._afterZoomIn()))},changeOut:function(){var a=f.wrap,b=f.current,d=function(){c(this).trigger("onReset").remove()};a.removeClass("fancybox-opened"),"elastic"===b.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:b.prevSpeed,complete:d}):a.fadeOut("fade"===b.prevEffect?b.prevSpeed:0,d)}},f.helpers.overlay={overlay:null,update:function(){var a,f,g;this.overlay.width(0).height(0),c.browser.msie?(f=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),g=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=g>f?d.width():f):a=e.width(),this.overlay.width(a).height(e.height())},beforeShow:function(a){this.overlay||(this.overlay=c('<div id="fancybox-overlay"></div>').css(a.css||{background:"black"}).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",f.close),d.bind("resize.fb",c.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn||"fast",a.opacity||1))},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||"fast",function(){c(this).remove()}),this.overlay=null}},f.helpers.title={beforeShow:function(a){var b,d=f.current.title;d&&(b=c('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+d+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),f.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?f.inner:"outside"===a.type?f.wrap:f.outer))}},c.fn.fancybox=function(a){function b(a){var b,e,h=[],i=this.rel;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault(),e=c(this).data("fancybox-group"),"undefined"!=typeof e?b=e?"data-fancybox-group":!1:i&&""!==i&&"nofollow"!==i&&(e=i,b="rel"),b&&(h=g.length?c(g).filter("["+b+'="'+e+'"]'):c("["+b+'="'+e+'"]')),h.length?(d.index=h.index(this),f.open(h.get(),d)):f.open(this,d))}var d=a||{},g=this.selector||"";return g?e.undelegate(g,"click.fb-start").delegate(g,"click.fb-start",b):c(this).unbind("click.fb-start").bind("click.fb-start",b),this}}(window,document,opjq);