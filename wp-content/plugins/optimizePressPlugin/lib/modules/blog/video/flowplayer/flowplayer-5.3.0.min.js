/*!

   Flowplayer v5.3.0 (Thursday, 17. January 2013 05:09PM) | flowplayer.org/license

*/!function(t){function u(e,n){var r="obj"+(""+Math.random()).slice(2,15),i='<object class="fp-engine" id="'+r+'" name="'+r+'" ';i+=t.browser.msie?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">':' data="'+e+'" type="application/x-shockwave-flash">';var s={width:"100%",height:"100%",allowscriptaccess:"always",wmode:"transparent",quality:"high",flashvars:"",movie:e+(t.browser.msie?"?"+r:""),name:r};return t.each(n,function(e,t){s.flashvars+=e+"="+t+"&"}),t.each(s,function(e,t){i+='<param name="'+e+'" value="'+t+'"/>'}),i+="</object>",t(i)}function l(e){return Math.round(e*100)/100}function c(e){return/mpegurl/i.test(e)?"application/x-mpegurl":"video/"+e}function h(e){return/^(video|application)/.test(e)||(e=c(e)),!!a.canPlayType(e).replace("no","")}function m(e){var t=e.attr("src"),n=(e.attr("type")||"").replace("video/",""),r=t.split(v)[1];return{src:t,suffix:r||n,type:n||r}}function g(e){var n=this,r=[];t("source",e).each(function(){r.push(m(t(this)))}),r.length||r.push(m(e)),n.initialSources=r,n.resolve=function(e){return e?(t.isArray(e)?e={sources:t.map(e,function(e){var n;return t.each(e,function(e,t){n=e}),e.type=n,e.src=e[n],delete e[n],e})}:typeof e=="string"&&(e={src:e,sources:[]},t.each(r,function(t,n){n.type!="flash"&&e.sources.push({type:n.type,src:e.src.replace(v,"")+"."+n.suffix})})),e):{sources:r}}}function y(e){return e=parseInt(e,10),e>=10?e:"0"+e}function b(e){e=e||0;var t=Math.floor(e/3600),n=Math.floor(e/60);return e-=n*60,t>=1?(n-=t*60,t+":"+y(n)+":"+y(e)):y(n)+":"+y(e)}!function(e){if(!e.browser){var t=e.browser={},n=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];r[1]&&(t[r[1]]=!0,t.version=r[2]||"0")}}(opjq),t(function(){typeof t.fn.flowplayer=="function"&&t("video").parent(".flowplayer").flowplayer()});var n=[],r=[],i=navigator.userAgent,s=/Android/.test(i)&&/Firefox/.test(i);window.flowplayer=function(e){return s?0:t.isFunction(e)?r.push(e):typeof e=="number"||e===undefined?n[e||0]:t(e).data("flowplayer")},t.extend(flowplayer,{version:"5.3.0",engine:{},conf:{},support:{},defaults:{debug:!1,disabled:!1,engine:"html5",fullscreen:window==window.top,keyboard:!0,ratio:9/16,flashfit:!1,rtmp:0,splash:!1,swf:"http://releases.flowplayer.org/5.3.0/flowplayer.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,volume:1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash."],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"]}});if(s)return t(function(){t("video").attr("controls","controls")});var o=0;t.fn.flowplayer=function(e,i){return typeof e=="string"&&(e={swf:e}),t.isFunction(e)&&(i=e,e={}),!e&&this.data("flowplayer")||this.each(function(){var s=t(this).addClass("is-loading"),u=t.extend({},flowplayer.defaults,flowplayer.conf,e,s.data()),a=t("video",s).addClass("fp-engine").removeAttr("controls"),f=new g(a),l={},c,h;s.data("fp-player_id",s.data("fp-player_id")||o++);try{l=window.localStorage||l}catch(p){}var d={conf:u,currentSpeed:1,volumeLevel:l.volume*1||u.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:l.muted=="true"||u.muted,paused:!1,playing:!1,ready:!1,splash:!1,load:function(e,n){if(d.error||d.loading||d.disabled)return;e=f.resolve(e),t.extend(e,h.pick(e.sources));if(e.src){var r=t.Event("load");s.trigger(r,[d,e,h]),r.isDefaultPrevented()||(h.load(e),t.isFunction(e)&&(n=e),n&&s.one("ready",n))}return d},pause:function(e){return d.ready&&!d.seeking&&!d.disabled&&!d.loading&&(h.pause(),d.one("pause",e)),d},resume:function(){return d.ready&&d.paused&&!d.disabled&&(h.resume(),d.finished&&(d.trigger("resume"),d.finished=!1)),d},toggle:function(){return d.ready?d.paused?d.resume():d.pause():d.load()},seek:function(e,n){if(d.ready){if(typeof e=="boolean"){var r=d.video.duration*.1;e=d.video.time+(e?r:-r)}e=c=Math.min(Math.max(e,0),d.video.duration),h.seek(e),t.isFunction(n)&&s.one("seek",n)}return d},seekTo:function(e,t){var n=e===undefined?c:d.video.duration*.1*e;return d.seek(n,t)},mute:function(e){e==undefined&&(e=!d.muted),l.muted=d.muted=e,d.volume(e?0:l.volume),d.trigger("mute",e)},volume:function(e){return d.ready&&h.volume(Math.min(Math.max(e,0),1)),d},speed:function(e,n){return d.ready&&(typeof e=="boolean"&&(e=u.speeds[t.inArray(d.currentSpeed,u.speeds)+(e?1:-1)]||d.currentSpeed),h.speed(e),n&&s.one("speed",n)),d},stop:function(){return d.ready&&(d.pause(),d.seek(0,function(){s.trigger("stop")})),d},unload:function(){return s.hasClass("is-embedding")||(u.splash?(d.trigger("unload"),h.unload()):d.stop()),d},disable:function(e){e===undefined&&(e=!d.disabled),e!=d.disabled&&(d.disabled=e,d.trigger("disable",e))}};t.each(["bind","one","unbind"],function(e,t){d[t]=function(e,n){return s[t](e,n),d}}),d.trigger=function(e,t){return s.trigger(e,[d,t]),d},s.bind("boot",function(){t.each(["autoplay","loop","preload","poster"],function(e,t){var n=a.attr(t);n!==undefined&&(u[t]=n?n:!0)});if(u.splash||s.hasClass("is-splash")||!flowplayer.support.firstframe)d.splash=u.splash=u.autoplay=!0,s.addClass("is-splash"),a.attr("preload","none");t.each(r,function(e){this(d,s)}),h=flowplayer.engine[u.engine],h&&(h=h(d,s)),h.pick(f.initialSources)?d.engine=u.engine:t.each(flowplayer.engine,function(e,t){if(e!=u.engine)return h=this(d,s),h.pick(f.initialSources)&&(d.engine=e),!1});if(!d.engine)return d.trigger("error",{code:flowplayer.support.flash?5:10});u.splash?d.unload():d.load(),u.disabled&&d.disable(),s.one("ready",i),n.push(d)}).bind("load",function(e,n,r){u.splash&&t(".flowplayer").filter(".is-ready, .is-loading").not(s).each(function(){var e=t(this).data("flowplayer");e.conf.splash&&e.unload()}),s.addClass("is-loading"),n.loading=!0}).bind("ready",function(e,t,n){function r(){s.removeClass("is-loading"),t.loading=!1}n.time=0,t.video=n,u.splash?s.one("progress",r):r(),t.muted?t.mute(!0):t.volume(t.volumeLevel)}).bind("unload",function(e){u.splash&&a.remove(),s.removeClass("is-loading"),d.loading=!1}).bind("ready unload",function(e){var t=e.type=="ready";s.toggleClass("is-splash",!t).toggleClass("is-ready",t),d.ready=t,d.splash=!t}).bind("progress",function(e,t,n){t.video.time=n}).bind("speed",function(e,t,n){t.currentSpeed=n}).bind("volume",function(e,t,n){t.volumeLevel=Math.round(n*100)/100,t.muted?n&&t.mute(!1):l.volume=n}).bind("beforeseek seek",function(e){d.seeking=e.type=="beforeseek",s.toggleClass("is-seeking",d.seeking)}).bind("ready pause resume unload finish stop",function(e,t,n){d.paused=/pause|finish|unload|stop/.test(e.type),e.type=="ready"&&n&&(d.paused=!n.duration||!u.autoplay&&(u.preload!="none"||d.engine=="flash")),d.playing=!d.paused,s.toggleClass("is-paused",d.paused).toggleClass("is-playing",d.playing),d.load.ed||d.pause()}).bind("finish",function(e){d.finished=!0}).bind("error",function(){a.remove()}),s.trigger("boot",[d,s]).data("flowplayer",d)})},!function(){var e=flowplayer.support,n=t.browser,r=t("<video loop autoplay preload/>")[0],i=n.msie,s=navigator.userAgent,o=/iPad|MeeGo/.test(s),u=/iP(hone|od)/i.test(s),a=/Android/.test(s),f=/Silk/.test(s),l=o?parseFloat(/Version\/(\d\.\d)/.exec(s)[1],10):0;t.extend(e,{video:!!r.canPlayType,subtitles:!!r.addTextTrack,fullscreen:typeof document.webkitCancelFullScreen=="function"&&!/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(s)||document.mozFullScreenEnabled,fullscreen_keyboard:!n.safari||n.version>"536",inlineBlock:!(i&&n.version<8),touch:"ontouchstart"in window,dataload:!o&&!u,zeropreload:!i&&!a,volume:!o&&!a&&!u&&!f,cachedVideoTag:!o&&!u,firstframe:!u&&!o&&!a&&!f});try{var c=i?(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"):navigator.plugins["Shockwave Flash"].description;c=c.split(/\D+/),c.length&&!c[0]&&(c=c.slice(1)),e.flashVideo=c[0]>9||c[0]==9&&c[3]>=115}catch(h){}e.animation=function(){var e=["","Webkit","Moz","O","ms","Khtml"],n=t("<p/>")[0];for(var r=0;r<e.length;r++)if(n.style[e[r]+"AnimationName"]!=="undefined")return!0}()}(),window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_savedUnloadHandler=__flash_unloadHandler=function(){}}),flowplayer.engine.flash=function(n,r){var i=n.conf,s=n.video,o,a,f,l={pick:function(e){if(flowplayer.support.flashVideo){var n=t.grep(e,function(e){return e.type=="flash"})[0];if(n)return n;for(var r=0,i;r<e.length;r++){i=e[r];if(/mp4|flv/.test(i.type))return i}}},load:function(e){var s=t("video",r),l=e.src.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D"),c=/^https?:/.test(l);s.length>0&&flowplayer.support.video&&s[0].pause(),s.remove(),!c&&!i.rtmp&&(l=t("<a/>").attr("href",l)[0].href);if(f)f.__play(l);else{o="fp"+(""+Math.random()).slice(3,15);var h={hostname:i.embedded?i.hostname:location.hostname,url:l,callback:"opjq."+o};c&&delete i.rtmp,t.each(["key","autoplay","preload","rtmp","loop","debug"],function(e,t){i[t]&&(h[t]=i[t])}),a=u(i.swf,h),a.prependTo(r),f=a[0],setTimeout(function(){try{if(!f.PercentLoaded())return r.trigger("error",[n,{code:7,url:i.swf}])}catch(e){}},5e3),t[o]=function(r,s){i.debug&&r!="status"&&console.log("--",r,s);var o=t.Event(r);switch(r){case"ready":s=t.extend(e,s);break;case"click":o.flash=!0;break;case"keydown":o.which=s;break;case"seek":e.time=s;break;case"buffered":e.buffered=!0;break;case"status":n.trigger("progress",s.time),s.buffer<=e.bytes&&!e.buffered?(e.buffer=s.buffer/e.bytes*e.duration,n.trigger("buffer",e.buffer)):e.buffered&&n.trigger("buffered")}setTimeout(function(){n.trigger(o,s)},1)}}},speed:t.noop,unload:function(){f&&f.__unload&&f.__unload(),delete t[o],t("object",r).remove(),f=0}};t.each("pause,resume,seek,volume".split(","),function(e,t){l[t]=function(e){n.ready&&(t=="seek"&&n.video.time&&!n.paused&&n.trigger("beforeseek"),e===undefined?f["__"+t]():f["__"+t](e))}});var c=t(window),h=r.height(),p=r.width();return n.bind("ready fullscreen fullscreen-exit",function(){if(n.conf.flashfit||/full/.test(e.type)){var i=n.isFullscreen,s=i&&k,o=!flowplayer.support.inlineBlock,u=i?s?screen.availWidth:c.width():p,a=i?s?screen.availHeight:c.height():h,f=s?screen.width-screen.availWidth:0,l=s?screen.height-screen.availHeight:0,d=o?p:"",v=o?h:"",m,g;if(n.conf.flashfit||e.type==="fullscreen")m=n.video.width/n.video.height,g=n.video.height/n.video.width,v=Math.max(g*u),d=Math.max(m*a),v=v>a?d*g:v,v=Math.min(Math.round(v),a),d=d>u?v*m:d,d=Math.min(Math.round(d),u),l=Math.max(Math.round((a+l-v)/2),0),f=Math.max(Math.round((u+f-d)/2),0);t("object",r).css({width:d,height:v,marginTop:l,marginLeft:f})}}),l};var a=t("<video/>")[0],f={ended:"finish",pause:"pause",play:"resume",progress:"buffer",timeupdate:"progress",volumechange:"volume",ratechange:"speed",seeking:"beforeseek",seeked:"seek",loadeddata:"ready",error:"error",dataunavailable:"error"},p,d=function(e){return p?p.attr({type:c(e.type),src:e.src}):p=t("<video/>",{src:e.src,type:c(e.type),"class":"fp-engine",autoplay:"autoplay",preload:"none"})};flowplayer.engine.html5=function(e,n){function v(r,i,s){if(r.listeners&&r.listeners.hasOwnProperty(n.data("fp-player_id")))return;(r.listeners||(r.listeners={}))[n.data("fp-player_id")]=!0,i.bind("error",function(n){try{if(n.originalEvent&&t(n.originalEvent.originalTarget).is("img"))return n.preventDefault();h(t(n.target).attr("type"))&&e.trigger("error",{code:4})}catch(r){}}),t.each(f,function(i,u){r.addEventListener(i,function(f){u=="progress"&&f.srcElement&&f.srcElement.readyState===0&&setTimeout(function(){e.video.duration||(u="error",e.trigger(u,{code:4}))},1e4),o.debug&&!/progress/.test(u)&&console.log(i,"->",u,f);if(!e.ready&&!/ready|error/.test(u)||!u||!t("video",n).length)return;var c=t.Event(u),h;switch(u){case"ready":h=t.extend(s,{duration:r.duration,width:r.videoWidth,height:r.videoHeight,url:r.currentSrc,src:r.currentSrc});try{h.seekable=r.seekable&&r.seekable.end(null)}catch(p){}a=a||setInterval(function(){try{h.buffer=r.buffered.end(null)}catch(t){}h.buffer&&(h.buffer<=h.duration&&!h.buffered?e.trigger("buffer",f):h.buffered||(h.buffered=!0,e.trigger("buffer",f).trigger("buffered",f),clearInterval(a),a=0))},250);break;case"progress":case"seek":var d=e.video.duration;if(r.currentTime>0){h=Math.max(r.currentTime,0),d&&h&&h>=d&&(c.type="finish");break}if(u=="progress")return;case"speed":h=l(r.playbackRate);break;case"volume":h=l(r.volume);break;case"error":try{h=(f.srcElement||f.originalTarget).error}catch(v){return}}e.trigger(c,h)},!1)})}var r=t("video",n),i=flowplayer.support,s=t("track",r),o=e.conf,u,a,c;return u={pick:function(e){if(i.video)for(var t=0,n;t<e.length;t++)if(h(e[t].type))return e[t]},load:function(u){if(o.splash&&!c)r=d(u).prependTo(n),s.length&&r.append(s.attr("default","")),o.loop&&r.attr("loop","loop"),c=r[0];else{c=r[0];if(e.video.src&&u.src!=e.video.src)r.attr("autoplay","autoplay"),c.src=u.src;else if(o.preload=="none"||!i.dataload)i.zeropreload?e.trigger("ready",u).trigger("pause").one("ready",function(){n.trigger("resume")}):e.one("ready",function(){n.trigger("pause")})}v(c,t("source",r).add(r),u),(o.preload!="none"||!i.zeropreload||!i.dataload)&&c.load(),o.splash&&c.load()},pause:function(){c.pause()},resume:function(){c.play()},speed:function(e){c.playbackRate=e},seek:function(e){try{c.currentTime=e}catch(t){}},volume:function(e){c.volume=e},unload:function(){t("video",n).remove(),i.cachedVideoTag||(p=null),a=clearInterval(a),c=0}}};var v=/.(\w{3,4})$/i;t.throttle=function(e,t){var n;return function(){n||(e.apply(this,arguments),n=1,setTimeout(function(){n=0},t))}},t.fn.slider2=function(){var e=/iPad/.test(navigator.userAgent);return this.each(function(){var n=t(this),r=t(document),i=n.children(":last"),s,o,u,a,f,l,c,h,p=function(){o=n.offset(),u=n.width(),a=n.height(),l=f?a:u,h=g(c)},d=function(e){!s&&e!=y.value&&(!c||e<c)&&(n.trigger("slide",[e]),y.value=e)},v=function(e){var t=f?e.pageY-o.top:e.pageX-o.left;t=Math.max(0,Math.min(h||l,t));var n=t/l;return f&&(n=1-n),m(n,0,!0)},m=function(t,n){n===undefined&&(n=0);var r=t*100+"%";if(!c||t<=c)e||i.stop(),i.animate(f?{height:r}:{width:r},n,"linear");return t},g=function(e){return Math.max(0,Math.min(l,f?(1-e)*a:e*u))},y={max:function(e){c=e},disable:function(e){s=e},slide:function(e,t,n){p(),n&&d(e),m(e,t)}};p(),n.data("api",y).bind("mousedown.sld",function(e){e.preventDefault();if(!s){var n=t.throttle(d,100);p(),y.dragging=!0,d(v(e)),r.bind("mousemove.sld",function(e){e.preventDefault(),n(v(e))}).one("mouseup",function(){y.dragging=!1,r.unbind("mousemove.sld")})}})})},flowplayer(function(e,n){function o(e){return t(".fp-"+e,n)}function T(e){parseInt(v,10)||h.css("paddingTop",e*100+"%"),i.inlineBlock||t("object",n).height(n.height())}function N(e){n.toggleClass("is-mouseover",e).toggleClass("is-mouseout",!e)}var r=e.conf,i=flowplayer.support,s;n.addClass("flowplayer").append('      <div class="ratio"/>      <div class="ui">         <div class="waiting"><em/><em/><em/></div>         <a class="fullscreen"/>         <a class="unload"/>         <p class="speed"/>         <div class="controls">            <a class="play"></a>            <div class="timeline">               <div class="buffer"/>               <div class="progress"/>            </div>            <div class="volume">               <a class="mute"></a>               <div class="volumeslider">                  <div class="volumelevel"/>               </div>            </div>         </div>         <div class="time">            <em class="elapsed">00:00</em>            <em class="remaining"/>            <em class="duration">00:00</em>         </div>         <div class="message"><h2/><p/></div>      </div>'.replace(/class="/g,'class="fp-'));var u=o("progress"),a=o("buffer"),f=o("elapsed"),l=o("remaining"),c=o("waiting"),h=o("ratio"),p=o("speed"),d=o("duration"),v=h.css("paddingTop"),m=o("timeline").slider2(),g=m.data("api"),y=o("volume"),w=o("fullscreen"),E=o("volumeslider").slider2(),S=E.data("api"),x=n.hasClass("no-toggle");i.animation||c.html("<p>loading &hellip;</p>"),T(r.ratio);try{r.fullscreen||w.remove()}catch(C){w.remove()}e.bind("ready",function(){var t=e.video.duration;g.disable(!t),T(e.video.videoHeight/e.video.videoWidth),d.add(l).html(b(t)),t>=3600&&n.addClass("is-long")||n.removeClass("is-long"),S.slide(e.volumeLevel)}).bind("unload",function(){v||h.css("paddingTop","")}).bind("buffer",function(){var t=e.video,n=t.buffer/t.duration;t.seekable||g.max(n),a.animate({width:n*100+"%"},250,"linear")}).bind("speed",function(e,t,n){p.text(n+"x").addClass("fp-hilite"),setTimeout(function(){p.removeClass("fp-hilite")},1e3)}).bind("buffered",function(){a.css({width:"100%"}),g.max(1)}).bind("progress",function(){var t=e.video.time,n=e.video.duration;g.dragging||g.slide(t/n,e.seeking?0:250),f.html(b(t)),l.html("-"+b(n-t))}).bind("finish resume seek",function(e){n.toggleClass("is-finished",e.type=="finish")}).bind("stop",function(){f.html(b(0)),g.slide(0,100)}).bind("finish",function(){f.html(b(e.video.duration)),g.slide(1,100),n.removeClass("is-seeking")}).bind("beforeseek",function(){u.stop()}).bind("volume",function(){S.slide(e.volumeLevel)}).bind("disable",function(){var t=e.disabled;g.disable(t),S.disable(t),n.toggleClass("is-disabled",e.disabled)}).bind("mute",function(e,t,r){n.toggleClass("is-muted",r)}).bind("error",function(e,i,s){n.removeClass("is-loading").addClass("is-error");if(s){s.message=r.errors[s.code],i.error=!0;var o=t(".fp-message",n);t("h2",o).text(i.engine+": "+s.message),t("p",o).text(s.url||i.video.url||i.video.src||r.errorUrls[s.code]),n.unbind("mouseenter click").removeClass("is-mouseover")}}).bind("mouseenter mouseleave",function(e){if(x)return;var t=e.type=="mouseenter",r;N(t),t?(n.bind("pause.x mousemove.x volume.x",function(){N(!0),r=new Date}),s=setInterval(function(){new Date-r>5e3&&(N(!1),r=new Date)},100)):(n.unbind(".x"),clearInterval(s))}).bind("mouseleave",function(){(g.dragging||S.dragging)&&n.addClass("is-mouseover").removeClass("is-mouseout")}).bind("click.player",function(n){if(t(n.target).is(".fp-ui, .fp-engine")||n.flash)return n.preventDefault(),e.toggle()}),r.poster&&n.css("backgroundImage","url("+r.poster+")");var k=n.css("backgroundColor"),L=n.css("backgroundImage")!="none"||k&&k!="rgba(0, 0, 0, 0)"&&k!="transparent";!r.autoplay&&!r.splash&&L&&e.bind("ready stop",function(){n.addClass("is-poster").one("ready progress",function(){n.removeClass("is-poster")})}),t(".fp-toggle",n).click(e.toggle),t.each(["mute","fullscreen","unload"],function(t,n){o(n).click(function(){e[n]()})}),m.bind("slide",function(t,n){e.seeking=!0,e.seek(n*e.video.duration)}),E.bind("slide",function(t,n){e.volume(n)}),o("time").click(function(e){t(this).toggleClass("is-inverted")}),N(x)});var w,E,S="is-help";t(document).bind("keydown.fp",function(e){var n=w,r=e.ctrlKey||e.metaKey||e.altKey,i=e.which,s=n&&n.conf;if(!n||!s.keyboard||n.disabled)return;if(t.inArray(i,[63,187,191,219])!=-1)return E.toggleClass(S),!1;if(i==27&&E.hasClass(S))return E.toggleClass(S),!1;if(!r&&n.ready){e.preventDefault();if(e.shiftKey){i==39?n.speed(!0):i==37&&n.speed(!1);return}if(i<58&&i>47)return n.seekTo(i-48);switch(i){case 38:case 75:n.volume(n.volumeLevel+.15);break;case 40:case 74:n.volume(n.volumeLevel-.15);break;case 39:case 76:n.seeking=!0,n.seek(!0);break;case 37:case 72:n.seeking=!0,n.seek(!1);break;case 190:n.seekTo();break;case 32:n.toggle();break;case 70:s.fullscreen&&n.fullscreen();break;case 77:n.mute();break;case 27:n[n.isFullscreen?"fullscreen":"unload"]()}}}),flowplayer(function(e,n){if(!e.conf.keyboard)return;n.bind("mouseenter mouseleave",function(t){w=!e.disabled&&t.type=="mouseenter"?e:0,w&&(E=n)}),n.append('      <div class="fp-help">         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>esc</em>stop</p>            <p><em>f</em>fullscreen</p>            <p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster <small>(latest Chrome and Safari)</small></p>         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip;<em>6</em> seek to 10%, 20%, &hellip;60% </p>         </div>      </div>   '),e.conf.tooltip&&e.bind("ready unload",function(e){t(".fp-ui",n).attr("title",e.type=="ready"?"Hit ? for help":"")}),t(".fp-close",n).click(function(){n.toggleClass(S)})});var x=t.browser.mozilla?"moz":"webkit",T="fullscreen",N="fullscreen-exit",C,k=flowplayer.support.fullscreen;t(document).bind(x+"fullscreenchange",function(e){var n=t(document.webkitCurrentFullScreenElement||document.mozFullScreenElement);n.length?C=n.trigger(T,[n]):C.trigger(N,[C])}),flowplayer(function(e,n){if(!e.conf.fullscreen)return;var r=t(window),i={pos:0,play:!1},s;e.isFullscreen=!1,e.fullscreen=function(t){if(e.disabled)return;return t===undefined&&(t=!e.isFullscreen),t&&(s=r.scrollTop()),k?t?n[0][x+"RequestFullScreen"](flowplayer.support.fullscreen_keyboard?Element.ALLOW_KEYBOARD_INPUT:undefined):document[x+"CancelFullScreen"]():(e.engine==="flash"&&e.conf.rtmp&&(i={pos:e.video.time,play:e.playing}),e.trigger(t?T:N,[e])),e};var o;n.bind("mousedown.fs",function(){+(new Date)-o<150&&e.ready&&e.fullscreen(),o=+(new Date)}),e.bind(T,function(t){n.addClass("is-fullscreen"),e.isFullscreen=!0}).bind(N,function(t){n.removeClass("is-fullscreen"),e.isFullscreen=!1,r.scrollTop(s)}).bind("ready",function(){i.pos&&!isNaN(i.pos)&&setTimeout(function(){e.play(),e.seek(i.pos),i.play||setTimeout(function(){e.pause()},100),i={pos:0,play:!1}},250)})}),flowplayer(function(e,n){function s(){return t(r.query,n)}function o(){return t(r.query+"."+i,n)}var r=t.extend({active:"is-active",advance:!0,query:".fp-playlist a"},e.conf),i=r.active;e.play=function(t){return t===undefined?e.resume():typeof t!="number"?e.load.apply(null,arguments):s().eq(t).click(),e};if(s().length){n.on("click",r.query,function(n){var r=t(n.target);r.is("."+i)?e.toggle():e.load(r.attr("href")),n.preventDefault()}),e.conf.loop=!1;var u=s().filter("[data-cuepoints]").length;e.bind("load",function(r,a,f){var l=o().removeClass(i),c=t("a[href*='"+f.src.replace(v,"")+".']",n).addClass(i),h=s(),p=h.index(c),d=p==h.length-1;n.removeClass("video"+h.index(l)).addClass("video"+p).toggleClass("last-video",d),f.index=p,f.is_last=d,u&&(e.cuepoints=c.data("cuepoints"))}).bind("unload.pl",function(){o().toggleClass(i)}),t.each(["next","prev"],function(r,i){e[i]=function(e){e&&e.preventDefault();var t=o()[i]();t.length||(t=s().filter(i=="next"?":first":":last")),t.click()},t(".fp-"+i,n).click(e[i])}),r.advance&&n.unbind("finish.pl").bind("finish.pl",function(){o().next().length||r.loop?e.next():(n.addClass("is-playing"),e.one("resume",function(){return e.next(),!1}))})}});var L=/ ?cue\d+ ?/;flowplayer(function(e,n){function i(e){n[0].className=n[0].className.replace(L," "),e>=0&&n.addClass("cue"+e)}var r=0;e.cuepoints=e.conf.cuepoints||[],e.bind("progress",function(t,s,o){if(r&&o-r<.015)return r=o;r=o;var u=e.cuepoints||[];for(var a=0,f;a<u.length;a++)f=u[a],1*f&&(f={time:f}),f.time<0&&(f.time=e.video.duration+f.time),f.index=a,Math.abs(f.time-o)<.125*e.currentSpeed&&(i(a),n.trigger("cuepoint",[e,f]))}).bind("unload seek",i),e.conf.generate_cuepoints&&e.bind("ready",function(){var r=e.cuepoints||[],i=e.video.duration,s=t(".fp-timeline",n).css("overflow","visible");t.each(r,function(n,r){var o=r.time||r;o<0&&(o=i+r);var u=t("<a/>").addClass("fp-cuepoint fp-cuepoint"+n).css("left",o/i*100+"%");u.appendTo(s).mousedown(function(){return e.seek(o),!1})})})}),flowplayer(function(e,n,r){function u(e){var t=e.split(":");return t.length==2&&t.unshift(0),t[0]*60*60+t[1]*60+parseFloat(t[2].replace(",","."))}var i=t("track",n),s=e.conf;if(flowplayer.support.subtitles){e.subtitles=i.length&&i[0].track;if(s.nativesubtitles&&s.engine=="html5")return}i.remove();var o=/^(([0-9]{2}:)?[0-9]{2}:[0-9]{2}[,.]{1}[0-9]{3}) --\> (([0-9]{2}:)?[0-9]{2}:[0-9]{2}[,.]{1}[0-9]{3})(.*)/;e.subtitles=[];var a=i.attr("src");if(!a)return;t.get(a,function(n){for(var r=0,i=n.split("\n"),s=i.length,a={},f,l,c,h;r<s;r++){l=o.exec(i[r]);if(l){f=i[r-1],c="<p>"+i[++r]+"</p><br/>";while(t.trim(i[++r])&&r<i.length)c+="<p>"+i[r]+"</p><br/>";a={title:f,startTime:u(l[1]),endTime:u(l[2]||l[3]),text:c},h={time:a.startTime,subtitle:a},e.subtitles.push(a),e.cuepoints.push(h),e.cuepoints.push({time:a.endTime,subtitleEnd:f}),a.startTime===0&&e.trigger("cuepoint",h)}}}).fail(function(){return e.trigger("error",{code:8,url:a}),!1});var f=t("<div class='fp-subtitle'/>",n).appendTo(n),l;e.bind("cuepoint",function(e,t,n){n.subtitle?(l=n.index,f.html(n.subtitle.text).addClass("fp-active")):n.subtitleEnd&&f.removeClass("fp-active")}).bind("seek",function(n,r,i){t.each(e.cuepoints||[],function(t,n){var r=n.subtitle;r&&l!=n.index&&(i>=n.time&&i<=r.endTime?e.trigger("cuepoint",n):f.removeClass("fp-active"))})})}),flowplayer(function(e,n){var r=e.conf.analytics,i=0,s=0;if(r&&typeof _gat!="undefined"){function o(t){if(i){var s=_gat._getTracker(r),o=e.video;s._setAllowLinker(!0),s._trackEvent("Video / Seconds played",e.engine+"/"+o.type,n.attr("title")||o.src.split("/").slice(-1)[0].replace(v,""),Math.round(i/1e3)),i=0}}e.bind("load unload",o).bind("progress",function(){e.seeking||(i+=s?+(new Date)-s:0,s=+(new Date))}).bind("pause",function(){s=0}),t(window).unload(o)}}),flowplayer.support.touch&&flowplayer(function(e,n){var r=/Android/.test(i),s=/Silk/.test(i);flowplayer.support.volume||n.addClass("no-volume no-mute"),n.one("touchstart",function(){r&&e.toggle()}).bind("touchstart",function(t){if(e.playing&&!n.hasClass("is-mouseover"))return n.addClass("is-mouseover"),!1}),e.conf.native_fullscreen&&t.browser.webkit&&(e.fullscreen=function(){t("video",n)[0].webkitEnterFullScreen()}),(r||s)&&e.bind("ready",function(){var r=t("video",n);r.one("canplay",function(){r[0].play()}),r[0].play(),e.bind("progress.dur",function(){var i=r[0].duration;i!==1&&(e.video.duration=i,t(".fp-duration",n).html(b(i)),e.unbind("progress.dur"))})})}),flowplayer(function(e,n){if(e.conf.embed===!1)return;var r=e.conf,i=t(".fp-ui",n),s=t("<a/>",{"class":"fp-embed",title:"Copy to your site"}).appendTo(i),o=t("<div/>",{"class":"fp-embed-code"}).append("<label>Paste this HTML code on your site to embed.</label><textarea/>").appendTo(i),u=t("textarea",o);e.embedCode=function(){var i=e.video,s=i.width||n.width(),o=i.height||n.height(),u=t("<div/>",{"class":"flowplayer",css:{width:s,height:o}}),a=t("<video/>").appendTo(u);t.each(["origin","analytics","logo","key","rtmp"],function(e,t){r[t]&&u.attr("data-"+t,r[t])}),t.each(i.sources,function(e,n){a.append(t("<source/>",{type:"video/"+n.type,src:n.src}))});var f=t("<foo/>",{src:"http://embed.flowplayer.org/5.3.0/embed.min.js"}).append(u);return t("<p/>").append(f).html().replace(/<(\/?)foo/g,"<$1script")},n.fptip(".fp-embed","is-embedding"),u.click(function(){this.select()}),s.click(function(){u.text(e.embedCode()),u[0].focus(),u[0].select()})}),t.fn.fptip=function(e,n){return this.each(function(){function i(){r.removeClass(n),t(document).unbind(".st")}var r=t(this);t(e||"a",this).click(function(e){e.preventDefault(),r.toggleClass(n),r.hasClass(n)&&t(document).bind("keydown.st",function(e){e.which==27&&i()}).bind("click.st",function(e){t(e.target).parents("."+n).length||i()})})})}}(opjq),flowplayer(function(e,t){function n(e){var t=r("<a/>")[0];return t.href=e,t.hostname}var r=opjq,i=e.conf,s=i.swf.indexOf("flowplayer.org")&&i.e&&i.origin,o=s?n(s):location.hostname,u=i.key;location.protocol=="file:"&&(o="localhost"),e.load.ed=1,i.hostname=o,i.origin=s||location.href,s&&t.addClass("is-embedded"),typeof u=="string"&&(u=u.split(/,\s*/));if(u&&typeof key_check=="function"&&key_check(u,o))i.logo&&t.append(r("<a>",{"class":"fp-logo",href:s,target:"_top"}).append(r("<img/>",{src:i.logo})));else{var a=r("<a/>",{href:"http://flowplayer.org",target:"_top"}).appendTo(t),f=r(".fp-controls",t);e.bind("pause resume finish unload",function(t){/pause|resume/.test(t.type)&&e.engine!="flash"?(a.show().css({position:"absolute",left:16,bottom:36,zIndex:99999,width:100,height:20,backgroundImage:"url("+[".png","logo","/",".org",".flowplayer","stream","//"].reverse().join("")+")"}),e.load.ed=a.is(":visible")):a.hide()})}});flowplayer(function(a,b){function j(a){var b=c("<a/>")[0];return b.href=a,b.hostname}var c=opjq,d=a.conf,e=d.swf.indexOf("flowplayer.org")&&d.e&&d.origin,f=e?j(e):location.hostname,g=d.key;location.protocol=="file:"&&(f="localhost"),a.load.ed=1,d.hostname=f,d.origin=e||location.href,e&&b.addClass("is-embedded"),typeof g=="string"&&(g=g.split(/,\s*/));if(g&&typeof key_check=="function"&&key_check(g,f))d.logo&&b.append(c("<a>",{"class":"fp-logo",href:e,target:"_top"}).append(c("<img/>",{src:d.logo})));else{var h=c("<a/>",{href:"http://flowplayer.org",target:"_top"}).appendTo(b),i=c(".fp-controls",b);a.bind("pause resume finish unload",function(b){/pause|resume/.test(b.type)&&a.engine!="flash"?(h.show().css({position:"absolute",left:16,bottom:36,zIndex:99999,width:100,height:20,backgroundImage:"url("+[".png","logo","/",".org",".flowplayer","stream","//"].reverse().join("")+")"}),a.load.ed=h.is(":visible")):h.hide()})}});